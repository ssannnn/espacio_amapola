---
const title = "Encuentros pensados para que te lleves lo que estas necesitando";
const subtitle = "Personalizados, presencial en CABA y/o virtual";

const whatsappNumber = import.meta.env.WHATSAPP_NUMBER;
const generateWhatsAppURL = (plan, subProposal) =>
  `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(
    `Hola Rochi, me interesa el encuentro "${subProposal}" del plan "${plan}". Me gustaría recibir más información.`
  )}`;

const plans = [
  {
    title: "Prenatal",
    description:
      "Encuentros diseñados para prepararte física y emocionalmente para la llegada de tu bebé.",
    image: "/images/Encuentros/prenatal_card.jpg",
    subProposals: [
      {
        title: "Camino al encuentro",
        description:
          "Propuesta integral que invita a prepararse para el trabajo de parto, parto y la vuelta a casa, a través de información sobre la fisiología del cuerpo, la importancia del entorno y recursos corporales como el movimiento y la respiración para conectar con su tu bebé.",
        sessions: 4,
        frequency: "Semanal",
        duration: "1 hs",
        price: "$5000",
      },
      {
        title: "Habitando mi cuerpo",
        description:
          "Trabajamos con movimientos suaves y conscientes para aliviar tensiones, desde la esferodinamia, el método de Frida Kaplan y visualizaciones, para conectar con tu bebé y preparar tu cuerpo para el trabajo de parto y parto.",
        sessions: "A partir de la semana 14",
        frequency: "Semanal",
        duration: "1:15 hs",
        price: "$9000",
      },
      {
        title: "El arte de amamantar",
        description:
          "Una charla sobre cómo lograr una buena prendida, como identificar las señales de hambre, posibles dificultades, posiciones, producción de leche, beneficios de amamantar, entre otras.",
        sessions: 1,
        frequency: "Única clase",
        duration: "1 hs",
        price: "$7000",
      },
    ],
  },
  {
    title: "En pareja",
    description:
      "Actividades para fortalecer la colaboración y conexión con tu pareja antes del parto.",
    image: "/images/Encuentros/en_pareja_card.png",
    subProposals: [
      {
        title: "Camino al encuentro",
        description:
          "Propuesta integral que invita a prepararse para el trabajo de parto, parto y la vuelta a casa, a través de información sobre la fisiología del cuerpo, la importancia del entorno y recursos corporales como el movimiento y la respiración para conectar con su tu bebé.",
        sessions: 4,
        frequency: "Semanal",
        duration: "1 hs",
        price: "$5000",
      },
    ],
  },
  {
    title: "Postparto",
    description: "Acompañamiento para adaptarte a tu nueva vida como madre.",
    image: "/images/Encuentros/postparto_card.jpg",
    subProposals: [
      {
        title: "Asesorías en lactancia",
        description:
          "Un espacio personalizado para acompañarte cuando ya nació tu bebé, despejar dudas específicas sobre la lactancia, resolución de dificultades como grietas, dolor o agarre y cómo ajustar las tomas para que sean más cómodas y efectivas, entre otras.",
        sessions: 1,
        frequency: "--",
        duration: "--",
        price: "$--",
      },
      {
        title: "Destete",
        description:
          "Un encuentro para transitar el destete de forma respetuosa, adaptada a las necesidades de cada familia. Exploramos herramientas y estrategias para que este proceso sea acompañado con confianza y tranquilidad.",
        sessions: 1,
        frequency: "--",
        duration: "--",
        price: "$--",
      },
    ],
  },
];
---

<section aria-labelledby="encuentros-title" class="py-24">
  <div class="container mx-auto px-6">
    <!-- Título principal de la sección -->
    <h1
      id="encuentros-title"
      class="text-3xl md:text-5xl font-serif text-gray-700 text-center mb-4"
    >
      {title}
    </h1>
    <h2 class="text-base md:text-xl font-sans text-gray-800 text-center mb-12">
      {subtitle}
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        plans.map((plan) => (
          <div class="bg-orange-50 rounded-xl overflow-hidden shadow-md transition duration-300 self-start">
            <img
              src={plan.image}
              alt={`Imagen del plan ${plan.title}`}
              class="w-full h-48 sm:h-56 md:h-64 object-cover"
              loading="lazy"
            />
            <div class="p-6">
              <div class="flex justify-center mb-4">
                <h2 class="text-lg md:text-2xl font-serif text-gray-700 py-1 px-3 rounded-full">
                  {plan.title}
                </h2>
              </div>
              <p class="text-sm md:text-base font-sans text-gray-700 mb-6">
                {plan.description}
              </p>
              <div class="space-y-6">
                {plan.subProposals.map((sub) => {
                  const whatsappLink = generateWhatsAppURL(
                    plan.title,
                    sub.title
                  );
                  return (
                    <div class="p-5 bg-orange-100 rounded-lg md:hover:scale-105 transition-all duration-300 ease-out">
                      <div class="flex justify-center mb-2">
                        <h3 class="text-base md:text-xl font-serif text-gray-700 mb-4">
                          {sub.title}
                        </h3>
                      </div>
                      <p class="text-xs md:text-sm font-sans text-gray-700 mb-4">
                        {sub.description}
                      </p>
                      <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs md:text-sm font-sans text-gray-700">
                        <div class="flex items-center space-x-2">
                          <img
                            src="/icons/calendar.svg"
                            alt="Calendario"
                            class="w-4 md:w-5 h-4 md:h-5"
                          />
                          <p>
                            <strong>Encuentros:</strong> {sub.sessions}
                          </p>
                        </div>
                        <div class="flex items-center space-x-2">
                          <img
                            src="/icons/frequency.svg"
                            alt="Frecuencia"
                            class="w-4 md:w-5 h-4 md:h-5"
                          />
                          <p>
                            <strong>Frecuencia:</strong> {sub.frequency}
                          </p>
                        </div>
                        <div class="flex items-center space-x-2">
                          <img
                            src="/icons/clock.svg"
                            alt="Duración"
                            class="w-4 md:w-5 h-4 md:h-5"
                          />
                          <p>
                            <strong>Duración:</strong> {sub.duration}
                          </p>
                        </div>
                        <div class="flex items-center space-x-2">
                          <img
                            src="/icons/money.svg"
                            alt="Precio"
                            class="w-4 md:w-5 h-4 md:h-5"
                          />
                          <p>
                            <strong>Precio:</strong> {sub.price}
                          </p>
                        </div>
                      </div>
                      <div class="text-center mt-6">
                        <a
                          href={whatsappLink}
                          role="button"
                          aria-label={`Reservar para el plan ${plan.title} - ${sub.title}`}
                          class="px-4 md:px-5 py-2 bg-orange-3 text-white-1 font-medium font-sans rounded-lg md:hover:brightness-125 transition"
                        >
                          Reservar
                        </a>
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
